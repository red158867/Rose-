const { GoatWrapper } = require("fca-liane-utils");
const axios = require("axios");
const fs = require("fs");

module.exports = {
  config: {
    name: "caption",
    version: "1.0",
    author: "Tasbiul Islam Rasin",
    description: {
      en: "Send a random Islamic caption with a background image.",
    },
    guide: {
      en: "Type: !caption",
    },
    category: "Islamic",
    usePrefix: true,
  },

  onStart: async function ({ message }) {
    const captions = [
      "тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАНтЬи┬лтАФтАв\nр╝Ж-тЬ┐р╝К\n\nснДр┐Р-ржЗржЪрзНржЫрзЗ!!!ржЧрзБрж▓рзЛ!!!ржпржжрж┐!!!ржкржмрж┐рждрзНрж░!!рж╣рзЯ!тЬ┐снД\n\nтЬ┐снДрждрж╛рж╣рж▓рзЗ!!!рж╕рзНржмржкрзНржи!!! ржЧрзБрж▓рзЛ..ЁЯЦдЁЯеА\n\nтЬ┐снД р┐Р- ржПржХржжрж┐ржи!!!ржкрзВрж░ржг!!!рж╣ржмрзЗржЗ!!! тЬ┐снД\n\nтЬ┐снДр┐РржЗржирж╢рж╛ржЖрж▓рзНрж▓рж╛рж╣..ЁЯЦдЁЯеА\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАНтЬи┬лтАФтАв\n р╝Ж-тЬ┐ р╝Кр┐Р \n\n_____тЬ╡тЩбя╕О\n\n___ржХрж┐  рж╣ржмрзЗ  ржПржд  ржорж╛ржирзБрж╖рзЗрж░ ржкрзНрж░рж┐рзЯ рж╣рзЯрзЗ__ЁЯжЛЁЯМ╗\n\n__ржпржжрж┐ ржЖрж▓рзНрж▓рж╛рж╣   ржкрзНрж░рж┐рзЯ ржирж╛ рж╣рждрзЗ ржкрж╛рж░рж┐__ЁЯЩВЁЯжЛ\n\n_____тЬ╡тЩбя╕О\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n р╝Ж-тЬ┐р╝К\n\nтФПтХо/тХ▒тХ░я╕ПтЭетШЖтАвтАв\nтХ▒/тХ░тФЫЁЯНБр┐РржЪрж┐рж░рж╕рзНржерж╛рзЯрзА ржХрж┐ \n\nр╝ДржЖржкржирж╛рж░ рж╕рзБржирзНржжрж░ ржмрзНржпржмрж╣рж╛рж░!!ЁЯНБ!!\n\nЁЯНБржпрзЗржЯрж╛ ржорзГрждрзНржпрзБрж░ ржкрж░ржУ рж╕ржмрж╛рж░ рж╕рзГрждрж┐рждрзЗ ржерж╛ржХржмрзЗЁЯе░р╜╗сГж\n\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐ р╝Кр┐Р\n\nЁЯжЛ\n\n-ржоржХрзНржХрж╛ рждрзБржорж┐ ржзржирзНржп.р╝Пр╝ПЁЯШ╜ЁЯХЛр┐Р\n\n-рждрзЛржорж╛рж░ ржмрзБржХрзЗ рж╣рзЯрзЗржЫрж┐рж▓рзЛ ржмрж┐рж╢рзНржм ржиржмрзАрж░ ржЬржирзНржо.р╝Пр╝Пр┐РЁЯТЫЁЯЩЖ\n\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐ р╝Кр┐Р\n\nтЧПтХРтХРтЭеЁЭДЮтЛЖтГЭЁЯе░ ржнрж╛ржЧрзНржпрж░ р╝Ер╝Ор╝Е ржЙржкрж░ р╝Ер╝Ор╝Е ржХрж╛рж░рзЛ р╝Ер╝Ор╝Е рж╣рж╛ржд ржирзЗржЗ !!ЁЯТЪЁЯМ║ЁЯеА\n\nтФАтФАтФАтФАЁЯШХ\nЁЯжЛЁЯМ║-р╝Ер╝Ор╝Е рж╕ржм р╝Е р╝Ор╝Е ржХрж┐ржЫрзБ р╝Ер╝Ор╝Е ржкрж░рж┐ржмрж░рзНрждржи сГЪЁЯМ╝\nр╝Ер╝Ор╝Е ржХрж░рж╛рж░  ржорж╛рж▓рж┐ржХ  ЁЯМ╗ЁЯШ╜ЁЯТЦ\n\nЁЯХКр╝Ор╝Е ржПржХржорж╛рждрзНрж░ р╝Ер╝Ор╝Е ржЖрж▓рзНрж▓рж╛рж╣ \n\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐ р╝Кр┐Р\n\n>ЁЯР░тЬиЁЭС╗ЁЭТЙЁЭТКЁЭТФ ЁЭТНЁЭТКЁЭТПЁЭТЖ ЁЭТКЁЭТФ ЁЭТЗЁЭТРЁЭТУ ЁЭТЪЁЭТРЁЭТЦЁЯЦдЁЯМ╕\nwish ЁЯдЧ\n\nржорзГрждрзНржпрзБрж░ ржХрзЯрзЗржХ рж╕рзЗржХрзЗржирзНржб ржЖржЧрзЗ ржпрзЗржи ржкрзНрж░рждрзНржпрзЗржХржЯрж╛\nржорзБрж╕рж▓ржорж╛ржирзЗрж░ ржорзБржЦрзЗ\nржЙржЪрзНржЪрж╛рж░рж┐ржд рж╣рзЯ !\nрж▓рж╛ ржЗрж▓рж╛рж╣рж╛ ржЗрж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ\n ржорзБрж╣рж╛ржорзНржорж╛ржжрзБрж░ рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ ( рж╕ржГ )\n\nржЖржорж┐ржиЁЯд▓ЁЯд▓ЁЯе░\n\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐ р╝Кр┐Р\n\n\n р╝Ер╝ОтЭе~ЁЯжЛ\n\nр╝Ер╝ОтЭетФБ-ржХрж╛рж▓рж┐ ржЫрж╛рзЬрж╛ ржпрзЗржоржи ржХрж▓ржо ЁЯЦКя╕П\nржорзВрж▓рзНржпрж╣рзАржиЁЯЧСя╕П\n\nрждрзЗржоржирж┐ ржирж╛ржорж╛ржЬ ржЫрж╛рзЬрж╛ ржорзБрж╕рж▓рж┐ржо ржорзВрж▓рзНржпрж╣рзАржи!!тЭер╝Ер╝О\n\nЁЯЦд~ЁЯжЛ\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐ р╝Кр┐Р\n\n┬░\n\nЁЯеАЁЯШТржХрзЗржЙ ржкржЫржирзНржж ржирж╛ ржХрж░рж▓рзЗ,,,,\nржХрж┐ ржпрж╛ржпрж╝ ржЖрж╕рзЗ,,ЁЯЩВ\n\nЁЯШЗржЖрж▓рзНрж▓рж╛рж╣ рждрзЛ,,\n\nржкржЫржирзНржж ржХрж░рзЗржЗ ржмрж╛ржирж┐ржпрж╝рзЗржЫрзЗ,,тЩея╕ПЁЯеА\n\nЁЯе░ЁЭРАЁЭРеЁЭРбЁЭРЪЁЭРжЁЭРЭЁЭРоЁЭРеЁЭРвЁЭРеЁЭРеЁЭРЪЁЭРбЁЯХЛ┬░\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",

"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐р╝Кр┐РЁЯжЛр┐Р\n\nрж╣рзАрж░рж╛рж░ ржЪрзЗржпрж╝рзЗржУ ржжрж╛ржорж┐\nрж╣ржпрж░ржд ржорзБрж╣рж╛ржорзНржоржж (рж╕рж╛ржГ) ржПрж░ ржорзБржЦрзЗрж░ ржмрж╛ржгрзАЁЯл░ЁЯЦд\n\nЁЯжЛр┐Р\nрж╕рзБржмрж╣рж╛ржирж╛рж▓рзНрж▓рж╛рж╣-ЁЯЦдЁЯеА\n\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤",
"тАвтАФ┬╗тЬиуАМ╔кs╩Яс┤Ас┤Н╔кс┤Д с┤Дс┤Ас┤Шс┤Ы╔кс┤П╔┤уАН  тЬи┬лтАФтАв\n  р╝Ж-тЬ┐ р╝Кр┐Р\n\nЁЯеА\n- ржкрзНрж░рждрж┐рж╢рзЛржз ржирзЯ.!ЁЯЩВЁЯТМ\n- рж╣рзНржоржорж╛ ржХрж░рж╛ржЗ ржЗрж╕рж▓рж╛ржорзЗрж░ ржЖржжрж░рзНрж╢.!тЭдя╕ПЁЯе░\n\n- рж╣ржпрж░ржд ржорзЛрж╣рж╛ржорзНржоржж (рж╕рж╛ржГ)ЁЯШНЁЯдО\n\n\nDс┤Зс┤ас┤З╩Яс┤Пс┤Шс┤З╩А: Rс┤АъЬ▒╔к╔┤"
    ];
    const imageUrls = [
      "https://i.postimg.cc/ZR0SLZyy/received-104854222681538.jpg",
"https://i.postimg.cc/CM3RdrW4/received-1077131053254543.jpg",
"https://i.postimg.cc/mhWWRHpQ/received-1202913210365646.jpg",
"https://i.postimg.cc/yxZCwPj1/received-179416495132916.jpg",
"https://i.postimg.cc/8kJFpgn5/received-201956602842877.jpg",
"https://i.postimg.cc/8c2N53cf/received-2183981171798286.jpg",
"https://i.postimg.cc/6QWwyCWc/received-259795433354586.jpg",
"https://i.postimg.cc/JzWRC9S9/received-317063074088232.jpg",
"https://i.postimg.cc/5tsJvjjV/received-583147497311518.jpg",
"https://i.postimg.cc/7ZMwHKkb/received-598373762409967.jpg",
"https://i.postimg.cc/wTD7NczY/received-649778976784401.jpg",
"https://i.postimg.cc/DZDKjDqp/received-659497149400143.jpg",
"https://i.postimg.cc/WpC2XD8p/received-659559285696847.jpg",
"https://i.postimg.cc/4NcXMJ26/received-819496329472643.jpg"
    ];

    const randomCaption = captions[Math.floor(Math.random() * captions.length)];
    const randomImageUrl = imageUrls[Math.floor(Math.random() * imageUrls.length)];

    try {
      
      const response = await axios.get(randomImageUrl, { responseType: "stream" });

      
      message.reply({
        body: randomCaption,
        attachment: response.data,
      });
    } catch (error) {
      console.error("Failed to fetch the image:", error.message);
      message.reply("Something went wrong while fetching the image. Please try again later.");
    }
  },
};

const wrapper = new GoatWrapper(module.exports);
wrapper.applyNoPrefix({ allowPrefix: true });